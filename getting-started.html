
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Initial setup &#8212; lcdb-wf 0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Running the tests" href="tests.html" />
    <link rel="prev" title="lcdb-wf" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">lcdb-wf</a></h1>



<p class="blurb">Customizable workflows for high-throughput sequencing analysis</p>






<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Initial setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup-required-once-per-system">Setup required once per system</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-required-once-per-project">Setup required once per project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">Running the tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Deploying <code class="docutils literal notranslate"><span class="pre">lcdb-wf</span></code> and staying up-to-date</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Overview of workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="rnaseq.html">RNA-seq workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="downstream-rnaseq.html">Downstream RNA-seq in R</a></li>
<li class="toctree-l1"><a class="reference internal" href="chipseq.html">ChIP-seq workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="external.html">“External” workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="figures.html">“Figures” workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="colocalization.html">Colocalization workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrappers.html">Wrappers</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster.html">Running on a cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="autodoc.html">Module documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developers</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">lcdb-wf</a></li>
      <li>Next: <a href="tests.html" title="next chapter">Running the tests</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="initial-setup">
<span id="getting-started"></span><h1>Initial setup<a class="headerlink" href="#initial-setup" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><cite>lcdb-wf</cite> is tested and heavily used on Linux.</p>
<p>It is likely to work on macOS as long as all relevant conda packages are
available for macOS – though this is not tested.</p>
<p>It will <strong>not</strong> work on Windows due to a general lack of support of Windows
in bioinformatics tools.</p>
</div>
<div class="section" id="setup-required-once-per-system">
<h2>Setup required once per system<a class="headerlink" href="#setup-required-once-per-system" title="Permalink to this headline">¶</a></h2>
<p>We use <a class="reference external" href="https://bioconda.github.io">bioconda</a> to automatically install
software into the working directory without needing admin rights on the
machine.</p>
<p>If you have the Anaconda Python distribution, you already have conda.
Otherwise, install <a class="reference external" href="https://conda.io/miniconda.html">Miniconda</a>.</p>
<p><strong>Optional:</strong>
- Run the following commands to set up your conda channels. This puts the</p>
<blockquote>
<div><p><cite>lcdb</cite> channel as lowest priority (this channel has the <cite>lcdblib</cite> package),
and then matches the channel order required by <cite>bioconda</cite>.</p>
</div></blockquote>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda config --add channels defaults
conda config --add channels bioconda
conda config --add channels conda-forge
</pre></div>
</div>
</div>
<div class="section" id="setup-required-once-per-project">
<h2>Setup required once per project<a class="headerlink" href="#setup-required-once-per-project" title="Permalink to this headline">¶</a></h2>
<p>The following should be done each time you set up a project.</p>
<div class="section" id="clone-the-git-repo">
<h3>1. Clone the git repo<a class="headerlink" href="#clone-the-git-repo" title="Permalink to this headline">¶</a></h3>
<p>Clone the repository from github into a new directory of your choosing and
change to that directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/lcdb/lcdb-wf.git my-project-dir
<span class="nb">cd</span> my-project-dir
</pre></div>
</div>
</div>
<div class="section" id="create-a-new-conda-environment">
<span id="create-env"></span><h3>2. Create a new conda environment<a class="headerlink" href="#create-a-new-conda-environment" title="Permalink to this headline">¶</a></h3>
<p>The following command will create a top-level environment with Snakemake and
other requirements. It needs to be <cite>activated</cite> any time you’ll be working with
these workflows.</p>
<p>If you’re not familiar with <code class="docutils literal notranslate"><span class="pre">conda</span></code>, it installs particular versions of
software in an isolated location on your computer. When you “activate” the
environment, it places that location at the beginning of your <code class="docutils literal notranslate"><span class="pre">$PATH</span></code>
variable, so that any executables there are found first. It does not affect any
existing installation of any software on your machine and does not need root
privileges.</p>
<p><strong>It is recommended that you create a separate environment directory for each
project and include it with the project</strong>.
That way you can update packages in each project independently of
any others, and yet the environment will always be close at hand. This is
especially good practice in shared space as others can easily find and activate
the environment specific to the project.
Here we use the name “env” for the new environment to clearly denote its contents,
but you can use anything. Note that here we specify the channels to use, which
include <code class="docutils literal notranslate"><span class="pre">bioconda</span></code> which depends on <code class="docutils literal notranslate"><span class="pre">conda-forge</span></code>, and <code class="docutils literal notranslate"><span class="pre">lcdb</span></code> which provides
the <code class="docutils literal notranslate"><span class="pre">lcdblib</span></code> package used by these workflows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">p</span> <span class="o">./</span><span class="n">env</span> <span class="o">--</span><span class="n">file</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Then activate the environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">activate</span> <span class="n">lcdb</span><span class="o">-</span><span class="n">wf</span>
</pre></div>
</div>
<p>Eventually when you’re done, you can “deactivate”, which removes the
environment location from your <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> until the next time you activate it.
You might want to hold off on this for now if you’ll be running the tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">deactivate</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An alternative approach is to create an environment at a specific path, for
example inside a project directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda create -p ./env --file requirements.txt
<span class="nb">source</span> activate ./env
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>You may want to run tests to make sure everything is set up (see
<a class="reference internal" href="tests.html#running-the-tests"><span class="std std-ref">Running the tests</span></a>), or jump right in to learning about how to configure
the workflows for your particular experiment (see <a class="reference internal" href="config.html#config"><span class="std std-ref">Configuration</span></a>).</p>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2017, Ryan Dale, Justin Fear.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/getting-started.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>